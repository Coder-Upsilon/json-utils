"use strict";(self.webpackChunkjson_utils=self.webpackChunkjson_utils||[]).push([[431],{258:(t,e,s)=>{s.d(e,{JSONUtils:()=>A});class n extends Error{constructor(t,e){super(`${t} at position ${e}`),this.position=e}}function i(t){return/^[0-9A-Fa-f]$/.test(t)}function r(t){return t>="0"&&t<="9"}function o(t){return t>=" "}function u(t){return",:[]/{}()\n+".includes(t)}function a(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t}function l(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t||t>="0"&&t<="9"}const c=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,h=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function p(t){return",[]/{}\n+".includes(t)}function d(t){return O(t)||f.test(t)}const f=/^[[{\w-]$/;function g(t){return"\n"===t||"\r"===t||"\t"===t||"\b"===t||"\f"===t}function S(t,e){const s=t.charCodeAt(e);return 32===s||10===s||9===s||13===s}function m(t,e){const s=t.charCodeAt(e);return 32===s||9===s||13===s}function y(t,e){const s=t.charCodeAt(e);return 160===s||s>=8192&&s<=8202||8239===s||8287===s||12288===s}function O(t){return w(t)||$(t)}function w(t){return'"'===t||"“"===t||"”"===t}function N(t){return'"'===t}function $(t){return"'"===t||"‘"===t||"’"===t||"`"===t||"´"===t}function J(t){return"'"===t}function E(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t.lastIndexOf(e);return-1!==n?t.substring(0,n)+(s?"":t.substring(n+1)):t}function b(t,e){let s=t.length;if(!S(t,s-1))return t+e;for(;S(t,s-1);)s--;return t.substring(0,s)+e+t.substring(s)}function v(t,e,s){return t.substring(0,e)+t.substring(e+s)}const x={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},j={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function T(t){let e=0,s="";I(["```","[```","{```"]),T()||function(){throw new n("Unexpected end of json string",t.length)}(),I(["```","```]","```}"]);const f=B(",");for(f&&C(),d(t[e])&&function(t){return/[,\n][ \t\r]*$/.test(t)}(s)?(f||(s=b(s,",")),function(){let t=!0,e=!0;for(;e;)t?t=!1:B(",")||(s=b(s,",")),e=T();e||(s=E(s,",")),s=`[\n${s}\n]`}()):f&&(s=E(s,","));"}"===t[e]||"]"===t[e];)e++,C();if(e>=t.length)return s;function T(){C();const n=function(){if("{"===t[e]){s+="{",e++,C(),V(",")&&C();let n=!0;for(;e<t.length&&"}"!==t[e];){let i;if(n?(i=!0,n=!1):(i=B(","),i||(s=b(s,",")),C()),F(),!z()&&!P(!0)){"}"===t[e]||"{"===t[e]||"]"===t[e]||"["===t[e]||void 0===t[e]?s=E(s,","):Z();break}C();const r=B(":"),o=e>=t.length;r||(d(t[e])||o?s=b(s,":"):D()),T()||(r||o?s+="null":D())}return"}"===t[e]?(s+="}",e++):s=b(s,"}"),!0}return!1}()||function(){if("["===t[e]){s+="[",e++,C(),V(",")&&C();let n=!0;for(;e<t.length&&"]"!==t[e];)if(n?n=!1:B(",")||(s=b(s,",")),F(),!T()){s=E(s,",");break}return"]"===t[e]?(s+="]",e++):s=b(s,"]"),!0}return!1}()||z()||function(){const n=e;if("-"===t[e]){if(e++,R())return _(n),!0;if(!r(t[e]))return e=n,!1}for(;r(t[e]);)e++;if("."===t[e]){if(e++,R())return _(n),!0;if(!r(t[e]))return e=n,!1;for(;r(t[e]);)e++}if("e"===t[e]||"E"===t[e]){if(e++,"-"!==t[e]&&"+"!==t[e]||e++,R())return _(n),!0;if(!r(t[e]))return e=n,!1;for(;r(t[e]);)e++}if(!R())return e=n,!1;if(e>n){const i=t.slice(n,e),r=/^0\d/.test(i);return s+=r?`"${i}"`:i,!0}return!1}()||X("true","true")||X("false","false")||X("null","null")||X("True","true")||X("False","false")||X("None","null")||P(!1)||function(){if("/"===t[e]){const n=e;for(e++;e<t.length&&("/"!==t[e]||"\\"===t[e-1]);)e++;return e++,s+=`"${t.substring(n,e)}"`,!0}}();return C(),n}function C(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s=e;let n=A(t);do{n=k(),n&&(n=A(t))}while(n);return e>s}function A(n){const i=n?S:m;let r="";for(;;)if(i(t,e))r+=t[e],e++;else{if(!y(t,e))break;r+=" ",e++}return r.length>0&&(s+=r,!0)}function k(){if("/"===t[e]&&"*"===t[e+1]){for(;e<t.length&&!L(t,e);)e++;return e+=2,!0}if("/"===t[e]&&"/"===t[e+1]){for(;e<t.length&&"\n"!==t[e];)e++;return!0}return!1}function I(s){if(function(s){for(const n of s){const s=e+n.length;if(t.slice(e,s)===n)return e=s,!0}return!1}(s)){if(a(t[e]))for(;e<t.length&&l(t[e]);)e++;return C(),!0}return!1}function B(n){return t[e]===n&&(s+=t[e],e++,!0)}function V(s){return t[e]===s&&(e++,!0)}function M(){return V("\\")}function F(){return C(),"."===t[e]&&"."===t[e+1]&&"."===t[e+2]&&(e+=3,C(),V(","),!0)}function z(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,l="\\"===t[e];if(l&&(e++,l=!0),O(t[e])){const d=N(t[e])?N:J(t[e])?J:$(t[e])?$:w,f=e,S=s.length;let m='"';for(e++;;){if(e>=t.length){const i=Y(e-1);return!n&&u(t.charAt(i))?(e=f,s=s.substring(0,S),z(!0)):(m=b(m,'"'),s+=m,!0)}if(e===a)return m=b(m,'"'),s+=m,!0;if(d(t[e])){const i=e,o=m.length;if(m+='"',e++,s+=m,C(!1),n||e>=t.length||u(t[e])||O(t[e])||r(t[e]))return U(),!0;const a=Y(i-1),l=t.charAt(a);if(","===l)return e=f,s=s.substring(0,S),z(!1,a);if(u(l))return e=f,s=s.substring(0,S),z(!0);s=s.substring(0,S),e=i+1,m=`${m.substring(0,o)}\\${m.substring(o)}`}else{if(n&&p(t[e])){if(":"===t[e-1]&&c.test(t.substring(f+1,e+2)))for(;e<t.length&&h.test(t[e]);)m+=t[e],e++;return m=b(m,'"'),s+=m,U(),!0}if("\\"===t[e]){const s=t.charAt(e+1);if(void 0!==j[s])m+=t.slice(e,e+2),e+=2;else if("u"===s){let s=2;for(;s<6&&i(t[e+s]);)s++;6===s?(m+=t.slice(e,e+6),e+=6):e+s>=t.length?e=t.length:K()}else m+=s,e+=2}else{const s=t.charAt(e);'"'===s&&"\\"!==t[e-1]?(m+=`\\${s}`,e++):g(s)?(m+=x[s],e++):(o(s)||q(s),m+=s,e++)}}l&&M()}}return!1}function U(){let n=!1;for(C();"+"===t[e];){n=!0,e++,C(),s=E(s,'"',!0);const t=s.length,i=z();s=i?v(s,t,1):b(s,'"')}return n}function X(n,i){return t.slice(e,e+n.length)===n&&(s+=i,e+=n.length,!0)}function P(n){const i=e;if(a(t[e])){for(;e<t.length&&l(t[e]);)e++;let s=e;for(;S(t,s);)s++;if("("===t[s])return e=s+1,T(),")"===t[e]&&(e++,";"===t[e]&&e++),!0}for(;e<t.length&&!p(t[e])&&!O(t[e])&&(!n||":"!==t[e]);)e++;if(":"===t[e-1]&&c.test(t.substring(i,e+2)))for(;e<t.length&&h.test(t[e]);)e++;if(e>i){for(;S(t,e-1)&&e>0;)e--;const n=t.slice(i,e);return s+="undefined"===n?"null":JSON.stringify(n),'"'===t[e]&&e++,!0}}function Y(e){let s=e;for(;s>0&&S(t,s);)s--;return s}function R(){return e>=t.length||u(t[e])||S(t,e)}function _(n){s+=`${t.slice(n,e)}0`}function q(t){throw new n(`Invalid character ${JSON.stringify(t)}`,e)}function Z(){throw new n("Object key expected",e)}function D(){throw new n("Colon expected",e)}function K(){const s=t.slice(e,e+6);throw new n(`Invalid unicode character "${s}"`,e)}!function(){throw new n(`Unexpected character ${JSON.stringify(t[e])}`,e)}()}function L(t,e){return"*"===t[e]&&"/"===t[e+1]}var C=s(695);class A{constructor(){this.currentOutputType="json",this.lastValidJSON=null,this.initializeElements(),this.initializeEditors(),this.attachEventListeners()}initializeElements(){this.elements={clearBtn:this.getElementById("clearBtn"),loadSampleBtn:this.getElementById("loadSampleBtn"),toYamlBtn:this.getElementById("toYamlBtn"),toXmlBtn:this.getElementById("toXmlBtn"),parseStringToggle:this.getElementById("parseStringToggle"),copyToInputBtn:this.getElementById("copyToInputBtn"),copyBtn:this.getElementById("copyBtn"),downloadBtn:this.getElementById("downloadBtn"),inputStatus:this.getElementById("inputStatus"),outputStatus:this.getElementById("outputStatus"),formatRadios:document.querySelectorAll('input[name="outputFormat"]')}}getElementById(t){const e=document.getElementById(t);if(!e)throw new Error(`Element with id "${t}" not found`);return e}getElementBySelector(t){const e=document.querySelector(t);if(!e)throw new Error(`Element with selector "${t}" not found`);return e}initializeEditors(){const t=C.i.initializeEditor("jsonInput",{mode:"application/json",readOnly:!1});if(!t)throw new Error("Failed to initialize input editor");this.inputEditor=t,this.inputEditor.setOption("readOnly",!1),this.inputEditor.on("change",()=>{this.debounce(()=>this.validateInput(),500)()});const e=C.i.initializeEditor("output",{mode:"application/json",readOnly:!0});if(!e)throw new Error("Failed to initialize output editor");this.outputEditor=e}attachEventListeners(){this.elements.clearBtn.addEventListener("click",()=>this.clearInput()),this.elements.loadSampleBtn.addEventListener("click",()=>this.loadSample()),this.elements.toYamlBtn.addEventListener("click",()=>this.convertToYAML()),this.elements.toXmlBtn.addEventListener("click",()=>this.convertToXML()),this.elements.parseStringToggle.addEventListener("change",()=>this.handleParseStringToggle()),this.elements.copyToInputBtn.addEventListener("click",()=>this.copyToInput()),this.elements.copyBtn.addEventListener("click",()=>this.copyOutput()),this.elements.downloadBtn.addEventListener("click",()=>this.downloadOutput()),this.elements.formatRadios.forEach(t=>{t.addEventListener("change",()=>this.handleFormatChange())}),this.elements.inputStatus.addEventListener("click",t=>{this.elements.inputStatus.classList.contains("error")&&(t.stopPropagation(),this.toggleErrorExpansion(this.elements.inputStatus))})}handleParseStringToggle(){if(this.inputEditor.getValue().trim())if(this.validateInput(),this.elements.parseStringToggle.checked&&this.lastValidJSON){const t=JSON.stringify(this.lastValidJSON,null,2);this.displayOutput(t,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON string parsed","success")}else if(!this.elements.parseStringToggle.checked&&this.lastValidJSON){const t=JSON.stringify(this.lastValidJSON,null,2);this.displayOutput(t,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"Pretty printed","success")}}debounce(t,e){let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),t(...n)},e)}}clearInput(){this.inputEditor.setValue(""),this.clearStatus()}loadSample(){const t=JSON.stringify({name:"John Doe",age:30,city:"New York",hobbies:["reading","swimming","coding"],address:{street:"123 Main St",zipCode:"10001"},isActive:!0,balance:1250.5,spouse:null},null,2);this.inputEditor.setValue(t),this.validateInput()}validateInput(){const t=this.inputEditor.getValue().trim();if(!t)return this.clearStatus(),void(this.lastValidJSON=null);if(this.elements.parseStringToggle.checked)this.parseJSONStringForValidation(t);else try{this.lastValidJSON=JSON.parse(t),this.showStatus(this.elements.inputStatus,"Valid JSON","success"),this.applyCurrentFormat()}catch(e){const s=e instanceof Error?e.message:"Unknown error";this.attemptAutoFix(t,s)}}parseJSONStringForValidation(t){try{const e=JSON.parse(t);if("string"!=typeof e)return this.showStatus(this.elements.inputStatus,"Input must be a JSON string","error"),void(this.lastValidJSON=null);const s=JSON.parse(e);this.lastValidJSON=s,this.showStatus(this.elements.inputStatus,"Valid JSON string","success"),this.applyCurrentFormat()}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.inputStatus,`Invalid JSON string: ${e}`,"error"),this.lastValidJSON=null}}attemptAutoFix(t,e){try{const s=this.customJSONRepair(t),n=JSON.parse(s);this.lastValidJSON=n,this.applyCurrentFormat(),this.showStatus(this.elements.inputStatus,`Fixed: ${e}`,"info"),this.showStatus(this.elements.outputStatus,"Fixed JSON displayed","success")}catch(s){try{const s=T(t),n=JSON.parse(s);this.lastValidJSON=n,this.applyCurrentFormat(),this.showStatus(this.elements.inputStatus,`Fixed: ${e}`,"info"),this.showStatus(this.elements.outputStatus,"Fixed JSON displayed","success")}catch(t){this.lastValidJSON=null,this.showStatus(this.elements.inputStatus,`Invalid JSON: ${e}`,"error")}}}handleFormatChange(){this.applyCurrentFormat()}applyCurrentFormat(){if(!this.lastValidJSON)return;const t=Array.from(this.elements.formatRadios).find(t=>t.checked)?.value;if("pretty"===t){const t=JSON.stringify(this.lastValidJSON,null,2);this.displayOutput(t,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"Formatted as Pretty","success")}else if("minify"===t){const t=JSON.stringify(this.lastValidJSON);this.displayOutput(t,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"Minified successfully","success")}else if("stringify"===t){const t=JSON.stringify(this.lastValidJSON),e=JSON.stringify(t);this.displayOutput(e,"text/plain"),this.currentOutputType="text",this.showStatus(this.elements.outputStatus,"Stringified successfully","success")}}analyzeJSON(t){const e=[],s=Array.isArray(t)?"Array":typeof t;if(e.push(`Type: ${s}`),Array.isArray(t))e.push(`Length: ${t.length} items`);else if("object"==typeof t&&null!==t){const s=Object.keys(t);e.push(`Properties: ${s.length}`),e.push(`Keys: ${s.join(", ")}`)}return e.push(`Size: ${JSON.stringify(t).length} characters`),e.join("\n")}getDetailedError(t,e){const s=t instanceof Error?t.message:"Unknown error",n=e.split("\n"),i=[`Error: ${s}`],r=s.match(/line (\d+)/i);if(r){const t=parseInt(r[1]);i.push(`Line ${t}: ${n[t-1]||"N/A"}`)}return s.includes("Unexpected token")&&(i.push("\nCommon fixes:"),i.push("• Check for missing commas between properties"),i.push("• Ensure all strings are quoted with double quotes"),i.push("• Remove trailing commas"),i.push("• Check for unescaped quotes in strings")),i.join("\n")}convertToYAML(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=this.jsonToYAML(e);this.displayOutput(s,"text/x-yaml"),this.currentOutputType="yaml",this.showStatus(this.elements.outputStatus,"Converted to YAML successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error converting to YAML: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}jsonToYAML(t,e=0){const s="  ".repeat(e);if(null===t)return"null";if("boolean"==typeof t)return t.toString();if("number"==typeof t)return t.toString();if("string"==typeof t)return t.includes("\n")||t.includes(":")||t.includes("#")||t.includes("[")||t.includes("]")?`"${t.replace(/"/g,'\\"')}"`:t;if(Array.isArray(t))return 0===t.length?"[]":t.map(t=>`${s}- ${this.jsonToYAML(t,e+1).replace(/^\s+/,"")}`).join("\n");if("object"==typeof t){const n=Object.keys(t);return 0===n.length?"{}":n.map(n=>{const i=t[n],r=this.jsonToYAML(i,e+1);return"object"!=typeof i||null===i||Array.isArray(i)?Array.isArray(i)&&i.length>0?`${s}${n}:\n${r}`:`${s}${n}: ${r}`:`${s}${n}:\n${r}`}).join("\n")}return t.toString()}convertToXML(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=`<?xml version="1.0" encoding="UTF-8"?>\n<root>\n${this.jsonToXML(e)}\n</root>`;this.displayOutput(s,"application/xml"),this.currentOutputType="xml",this.showStatus(this.elements.outputStatus,"Converted to XML successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error converting to XML: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}jsonToXML(t,e=1){const s="  ".repeat(e);return null===t?`${s}<null/>`:"boolean"==typeof t?`${s}<boolean>${t}</boolean>`:"number"==typeof t?`${s}<number>${t}</number>`:"string"==typeof t?`${s}<string>${this.escapeXML(t)}</string>`:Array.isArray(t)?t.map((t,n)=>`${s}<item index="${n}">\n${this.jsonToXML(t,e+1)}\n${s}</item>`).join("\n"):"object"==typeof t?Object.keys(t).map(n=>{const i=t[n],r=n.replace(/[^a-zA-Z0-9_-]/g,"_");return"object"==typeof i&&null!==i?`${s}<${r}>\n${this.jsonToXML(i,e+1)}\n${s}</${r}>`:`${s}<${r}>${this.escapeXML(String(i))}</${r}>`}).join("\n"):`${s}<value>${this.escapeXML(String(t))}</value>`}escapeXML(t){return t.replace(/[<>&'"]/g,t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}})}fixJSON(){const t=this.inputEditor.getValue().trim();if(t)try{return JSON.parse(t),void this.showStatus(this.elements.outputStatus,"JSON is already valid!","info")}catch(e){try{const e=this.customJSONRepair(t),s=JSON.parse(e),n=JSON.stringify(s,null,2);return this.displayOutput(n,"application/json"),this.currentOutputType="json",void this.showStatus(this.elements.outputStatus,"JSON fixed successfully! Please verify the result.","success")}catch(e){try{const e=T(t),s=JSON.parse(e),n=JSON.stringify(s,null,2);this.displayOutput(n,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON fixed successfully! Please verify the result.","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Could not auto-fix JSON: ${e}`,"error")}}}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}stringifyJSON(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=JSON.stringify(e),n=JSON.stringify(s);this.displayOutput(n,"text/plain"),this.currentOutputType="text",this.showStatus(this.elements.outputStatus,"JSON converted to string successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error stringifying JSON: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}parseJSONString(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t);if("string"!=typeof e)return void this.showStatus(this.elements.outputStatus,"Input must be a JSON string (quoted string containing JSON)","error");const s=JSON.parse(e),n=JSON.stringify(s,null,2);this.displayOutput(n,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON string parsed successfully","success")}catch(e){try{const e=T(t),s=JSON.parse(e);if("string"!=typeof s)return void this.showStatus(this.elements.outputStatus,"Input must be a JSON string (quoted string containing JSON)","error");const n=JSON.parse(s),i=JSON.stringify(n,null,2);this.displayOutput(i,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"Input repaired and JSON string parsed successfully! Please verify the result.","success")}catch(t){const s=e instanceof Error?e.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error parsing JSON string: ${s}`,"error")}}else this.showStatus(this.elements.outputStatus,"Please enter a JSON string first","error")}customJSONRepair(t){let e=t;return e=e.replace(/("[\w\s]+"):\s*"([^"]*?)\s+"([^"]+"):/g,'$1: "$2", "$3":'),e=e.replace(/("[\w\s]+"):\s*"([^"]*?)\s+("[\w\s]+"):/g,'$1: "$2", $3:'),e=e.replace(/'/g,'"'),e=e.replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":'),e=e.replace(/,(\s*[}\]])/g,"$1"),e=e.replace(/("\s*)\s+("[\w\s]+"):/g,"$1, $2:"),e}copyToInput(){const t=this.outputEditor.getValue();t?(this.inputEditor.setValue(t),this.validateInput(),this.showStatus(this.elements.outputStatus,"Output copied to input!","success")):this.showStatus(this.elements.outputStatus,"No output to copy","error")}async copyOutput(){const t=this.outputEditor.getValue();if(t)try{await navigator.clipboard.writeText(t),this.showStatus(this.elements.outputStatus,"Output copied to clipboard!","success")}catch(e){const s=document.createElement("textarea");s.value=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),this.showStatus(this.elements.outputStatus,"Output copied to clipboard!","success")}else this.showStatus(this.elements.outputStatus,"No output to copy","error")}downloadOutput(){const t=this.outputEditor.getValue();if(!t)return void this.showStatus(this.elements.outputStatus,"No output to download","error");const e=`output.${{json:"json",yaml:"yaml",xml:"xml",text:"txt"}[this.currentOutputType]||"txt"}`,s=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),this.showStatus(this.elements.outputStatus,`File downloaded as ${e}`,"success")}showStatus(t,e,s){t.innerHTML="",t.className=`status-inline ${s}`,"error"===s&&t.classList.add("collapsed");const n=document.createElement("span");n.className="error-content",n.textContent=e,t.appendChild(n)}toggleErrorExpansion(t){t.classList.contains("collapsed")?(t.classList.remove("collapsed"),t.classList.add("expanded")):t.classList.contains("expanded")&&(t.classList.remove("expanded"),t.classList.add("collapsed"))}clearStatus(){this.elements.inputStatus.textContent="",this.elements.inputStatus.className="status-inline",this.elements.outputStatus.textContent="",this.elements.outputStatus.className="status-inline"}displayOutput(t,e){this.outputEditor.setValue(t),this.outputEditor.setOption("mode",e)}}},695:(t,e,s)=>{s.d(e,{i:()=>i});var n=s(237);s(792),s(923),s(948),s(274),s(795),s(402),s(347),s(974);class i{static initializeEditor(t,e={}){const s=document.getElementById(t);if(!s)return console.error(`Textarea with id "${t}" not found`),null;if(s.CodeMirror){console.warn(`CodeMirror already initialized on textarea "${t}", returning existing instance`);const e=s.CodeMirror;return this.instances.set(t,e),e}const i=this.instances.get(t);if(i)return console.warn(`CodeMirror instance already exists for "${t}", returning existing instance`),i;try{const i={mode:"application/json",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,readOnly:!1,indentUnit:2,tabSize:2,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,extraKeys:{"Ctrl-Q":t=>t.foldCode(t.getCursor()),"Cmd-Q":t=>t.foldCode(t.getCursor())},...e},r=n.fromTextArea(s,i);return this.instances.set(t,r),r}catch(e){return console.error(`Failed to initialize CodeMirror on textarea "${t}":`,e),null}}static getInstance(t){return this.instances.get(t)||null}static cleanup(t){const e=this.instances.get(t);if(e)try{e.toTextArea(),this.instances.delete(t)}catch(e){console.error(`Error cleaning up CodeMirror instance for "${t}":`,e)}}static cleanupAll(){for(const[t]of this.instances)this.cleanup(t)}static hasInstance(t){const e=document.getElementById(t);return!(!e||!e.CodeMirror)||this.instances.has(t)}}i.instances=new Map}}]);