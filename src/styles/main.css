@import "tailwindcss";

@theme {
  --font-mono: 'Maple Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
  --font-sans: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
  
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;
  
  --color-secondary-50: #fdf4ff;
  --color-secondary-100: #fae8ff;
  --color-secondary-200: #f5d0fe;
  --color-secondary-300: #f0abfc;
  --color-secondary-400: #e879f9;
  --color-secondary-500: #d946ef;
  --color-secondary-600: #c026d3;
  --color-secondary-700: #a21caf;
  --color-secondary-800: #86198f;
  --color-secondary-900: #701a75;
  
  --color-accent-50: #f0fdf4;
  --color-accent-100: #dcfce7;
  --color-accent-200: #bbf7d0;
  --color-accent-300: #86efac;
  --color-accent-400: #4ade80;
  --color-accent-500: #22c55e;
  --color-accent-600: #16a34a;
  --color-accent-700: #15803d;
  --color-accent-800: #166534;
  --color-accent-900: #14532d;
  
  --animate-slide-up: slideUp 0.4s ease-out;
}



/* Custom base styles */
@layer base {
  * {
    box-sizing: border-box;
  }
  
  body {
    font-family: var(--font-sans);
    line-height: 1.6;
    color: #111827;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
}

/* Custom component styles */
@layer components {
  /* Container */
  .container {
    @apply w-full max-w-7xl mx-auto px-5 overflow-x-auto flex-1 flex flex-col;
  }

  /* Header styles */
  .header {
    @apply text-left mb-4 p-6 text-white rounded-2xl shadow-xl flex items-center gap-6 relative overflow-hidden;
    background: linear-gradient(-45deg, #4c63d2, #5a3d7a, #d946ef, #4c63d2);
    background-size: 400% 400%;
    animation: headerColorShift 8s ease-in-out infinite;
  }

  .header::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.15) 0%, transparent 50%),
                linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 100%);
  }

  .header::after {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }

  .header h1 {
    @apply text-4xl font-black m-0 relative z-10;
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 4px 8px rgba(0,0,0,0.3);
    letter-spacing: -0.02em;
  }

  .header p {
    @apply text-base opacity-90 m-0 font-light relative z-10 tracking-wide;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }

  /* Header Navigation Styles */
  .header-content {
    @apply flex justify-between items-center w-full relative z-10;
  }

  .header-text {
    @apply flex items-center gap-4;
  }

  .logo {
    @apply w-12 h-12 flex-shrink-0 drop-shadow-lg;
  }

  .header-title-group {
    @apply flex items-center gap-4;
  }

  .header-nav {
    @apply flex gap-3 items-center;
  }

  .nav-link {
    @apply flex items-center gap-2 px-5 py-3 bg-white/15 text-white no-underline rounded-xl text-sm font-semibold border border-white/20 hover:bg-white/25 hover:shadow-lg backdrop-blur-sm;
  }

  .nav-link.active {
    @apply bg-white/30 border-white/40 shadow-lg;
  }

  .nav-link i {
    @apply text-base;
  }

  /* Main layout */
  main {
    @apply flex flex-col gap-3 mb-6;
  }


  /* Footer */
  footer {
    @apply text-center p-6 text-gray-500 border-t border-gray-200 clear-both w-full relative mt-auto bg-white/50 backdrop-blur-sm;
  }

  /* Button Styles */
  .btn {
    @apply px-4 py-2.5 border-0 rounded-lg cursor-pointer text-sm font-semibold mx-1 min-w-[80px] shadow-sm hover:shadow-md;
  }

  .btn-small {
    @apply px-3 py-2 text-xs min-w-[70px] rounded-md flex items-center gap-2 justify-center;
  }

  .btn-primary {
    @apply bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:shadow-xl hover:shadow-primary-500/25 hover:from-primary-600 hover:to-primary-700;
  }

  .btn-secondary {
    @apply bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800 hover:shadow-lg;
  }

  .btn i {
    @apply text-xs flex-shrink-0;
  }

  .btn-small i {
    @apply text-xs;
  }

  .btn:disabled {
    @apply opacity-50 cursor-not-allowed shadow-none;
  }

  .btn-icon {
    @apply w-10 h-10 border-0 rounded-lg bg-white/95 text-gray-700 cursor-pointer flex items-center justify-center shadow-lg backdrop-blur-sm hover:bg-white hover:text-primary-600 hover:shadow-xl;
  }

  .btn-icon i {
    @apply text-base;
  }

  /* Status Styles */
  .status-inline {
    @apply text-xs px-2 py-1 rounded min-w-[80px] text-center;
  }

  .status-inline.success {
    @apply bg-green-100 text-green-800 border border-green-200;
  }

  .status-inline.error {
    @apply bg-red-100 text-red-800 border border-red-200;
  }

  .status-inline.info {
    @apply bg-blue-100 text-blue-800 border border-blue-200;
  }

  .status {
    @apply mt-2.5 p-2.5 rounded-md text-sm min-h-[20px];
  }

  .status.success {
    @apply bg-green-100 text-green-800 border border-green-200;
  }

  .status.error {
    @apply bg-red-100 text-red-800 border border-red-200;
  }

  .status.info {
    @apply bg-blue-100 text-blue-800 border border-blue-200;
  }

  /* Controls Section */
  .controls-section {
    @apply flex justify-center gap-6 flex-wrap p-6 bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-gray-200/50;
  }

  .control-group-section {
    @apply flex flex-col items-center gap-3 p-4 bg-gradient-to-b from-gray-50/80 to-white/90 rounded-lg border border-gray-200/60 shadow-sm min-w-[200px];
  }

  .control-group-header {
    @apply flex items-center gap-2 text-sm font-semibold text-gray-700 mb-1 pb-2 border-b border-gray-300/50 w-full justify-center;
  }

  .control-group-header i {
    @apply text-primary-600 text-base;
  }

  .control-group-header span {
    @apply tracking-wide;
  }

  .control-group {
    @apply flex gap-2 items-center flex-wrap justify-center;
  }

  /* Editor Section */
  .editor-section {
    @apply grid grid-cols-[1fr_auto_1fr] gap-0 relative rounded-xl overflow-hidden shadow-2xl border border-gray-200/50;
  }

  .input-panel, .output-panel {
    @apply bg-white/95 backdrop-blur-sm p-6 flex flex-col min-w-[200px] border-r border-gray-200/50 last:border-r-0;
  }

  .resize-bar {
    @apply w-4 bg-gradient-to-b from-gray-100 to-gray-200 border-l border-r border-gray-300/50 flex items-center justify-center cursor-col-resize relative select-none hover:bg-gradient-to-b hover:from-primary-100 hover:to-primary-200 hover:border-primary-300/50;
  }

  .resize-bar.dragging {
    @apply bg-gradient-to-b from-primary-200 to-primary-300 border-primary-400/50;
  }

  .resize-handle {
    @apply flex items-center justify-center text-gray-400 text-lg;
  }

  .resize-bar:hover .resize-handle {
    @apply text-primary-600;
  }

  .resize-bar.dragging .resize-handle {
    @apply text-primary-700;
  }

  .panel-header {
    @apply flex justify-between items-center mb-4 pb-3 border-b border-gray-200/70 relative;
  }

  .panel-header h3 {
    @apply text-gray-800 text-xl font-semibold m-0 tracking-tight;
  }

  .input-container, .output-container {
    @apply flex-1 relative border-2 border-gray-200/70 rounded-lg overflow-hidden shadow-inner bg-gray-50/50;
  }

  .floating-buttons {
    @apply absolute top-3 right-3 flex gap-2 z-20;
  }

  .input-floating-buttons {
    @apply top-3 right-3 left-auto;
  }

  /* JSONPath Filter Layout */
  .jsonpath-layout {
    @apply flex gap-5 min-h-[600px] w-full;
  }

  .main-panel {
    @apply flex flex-col gap-5 flex-1;
  }

  .jsonpath-input-container {
    @apply flex gap-2 items-center;
  }

  .jsonpath-input-container input {
    @apply flex-1;
  }

  .input-section {
    @apply bg-white rounded-lg p-5 shadow-lg;
  }

  .filter-section {
    @apply mt-4;
  }

  .output-section {
    @apply bg-white rounded-lg p-5 shadow-lg flex-1;
  }

  .input-group {
    @apply mb-4;
  }

  .input-group label {
    @apply block mb-2 font-semibold text-gray-800;
  }

  .input-group textarea,
  .input-group input {
    @apply w-full p-3 border-2 border-gray-300 rounded-md font-mono text-sm leading-relaxed transition-colors duration-300 box-border focus:outline-none focus:border-primary-500 focus:shadow-[0_0_0_3px_rgba(102,126,234,0.1)];
  }

  .input-group textarea {
    @apply min-h-[200px] resize-y;
  }

  .input-group input {
    @apply h-11;
  }

  .button-group {
    @apply flex gap-2.5 flex-wrap mt-4;
  }

  .output-group {
    @apply flex-1 flex flex-col;
  }

  .output-group textarea {
    @apply flex-1 min-h-[300px] bg-gray-50 border-2 border-gray-300 rounded-md p-3 font-mono text-sm leading-relaxed resize-none box-border;
  }

  .result-info {
    @apply flex gap-5 my-4 p-2.5 bg-gray-50 rounded-md text-sm;
  }

  .info-item {
    @apply text-gray-600 font-medium;
  }

  /* Help Panel as Collapsible Drawer with Smooth Animation */
  .jsonpath-layout .help-panel {
    @apply bg-white rounded-lg shadow-lg flex flex-col;
    position: fixed;
    top: 140px;
    right: 0;
    width: 384px;
    height: calc(100vh - 160px);
    z-index: 40;
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
    opacity: 0;
    overflow-y: auto;
  }

  .jsonpath-layout .help-panel.open {
    transform: translateX(0);
    opacity: 1;
  }

  .jsonpath-layout .help-panel.hidden {
    transform: translateX(100%);
    opacity: 0;
  }

  /* Adjust main content when drawer is open on larger screens */
  .jsonpath-layout.drawer-open {
    margin-right: 0;
  }

  @media (min-width: 1200px) {
    .jsonpath-layout.drawer-open {
      margin-right: 384px;
    }
  }

  /* Drawer Trigger Button - now part of layout */
  .drawer-trigger {
    @apply bg-primary-600 text-white px-3 py-2 rounded-lg shadow-lg cursor-pointer border-0 flex items-center gap-2 text-sm font-medium hover:bg-primary-700 hover:shadow-xl;
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
  }

  .drawer-trigger i {
    @apply text-base;
  }

  .drawer-trigger span {
    @apply text-sm;
  }

  .help-header {
    @apply flex justify-between items-center p-5 border-b border-gray-300 bg-gray-50;
  }

  .help-header h3 {
    @apply m-0 text-gray-800 text-xl;
  }

  .help-toggle {
    @apply bg-transparent border-0 text-2xl text-gray-600 cursor-pointer p-0 w-7 h-7 flex items-center justify-center rounded hover:bg-gray-200 hover:text-gray-800;
  }

  .help-content {
    @apply flex-1 overflow-y-auto p-5;
  }

  .help-section {
    @apply mb-6;
  }

  .help-section h4 {
    @apply m-0 mb-4 text-gray-800 text-base border-b-2 border-primary-500 pb-1;
  }

  .syntax-list,
  .examples-list,
  .operators-list {
    @apply flex flex-col gap-2;
  }

  .syntax-item,
  .example-item,
  .operator-item {
    @apply flex justify-between items-center p-2 px-3 bg-gray-50 rounded border-l-4 border-primary-500;
  }

  .example-item {
    @apply cursor-pointer hover:bg-gray-200;
  }

  .syntax-item code,
  .example-item code,
  .operator-item code {
    @apply font-mono bg-white px-1.5 py-0.5 rounded text-xs text-pink-600 font-semibold;
  }

  .syntax-item span,
  .example-item span,
  .operator-item span {
    @apply text-gray-600 text-xs text-right flex-1 ml-2.5;
  }

  /* About Page Styles */
  .content-section {
    @apply mb-8 p-6 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200/50;
  }

  .content-section h2 {
    @apply text-2xl font-bold text-gray-800 mb-4 pb-2 border-b-2 border-primary-500;
  }

  .content-section p {
    @apply text-gray-700 leading-relaxed mb-4;
  }

  .features-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6 mt-6;
  }

  .feature-card {
    @apply p-6 bg-gradient-to-br from-white to-gray-50 rounded-lg shadow-md border border-gray-200 hover:shadow-lg;
  }

  .feature-icon {
    @apply text-3xl text-primary-600 mb-4 block;
  }

  .feature-card h3 {
    @apply text-lg font-semibold text-gray-800 mb-3;
  }

  .feature-card p {
    @apply text-gray-600 text-sm leading-relaxed mb-0;
  }

  .privacy-info {
    @apply space-y-6 mt-6;
  }

  .privacy-point {
    @apply flex gap-4 items-start p-4 bg-gradient-to-r from-primary-50 to-secondary-50 rounded-lg border border-primary-200/50;
  }

  .privacy-point i {
    @apply text-2xl text-primary-600 mt-1 flex-shrink-0;
  }

  .privacy-point h3 {
    @apply text-lg font-semibold text-gray-800 mb-2;
  }

  .privacy-point p {
    @apply text-gray-600 text-sm leading-relaxed mb-0;
  }

  .use-cases {
    @apply space-y-3 mt-6 pl-0 list-none;
  }

  .use-cases li {
    @apply p-4 bg-gradient-to-r from-gray-50 to-white rounded-lg border border-gray-200 shadow-sm;
  }

  .use-cases li strong {
    @apply text-primary-700 font-semibold;
  }

  .tech-stack {
    @apply flex flex-wrap gap-3 mt-6;
  }

  .tech-badge {
    @apply px-4 py-2 bg-gradient-to-r from-primary-500 to-secondary-500 text-white text-sm font-semibold rounded-full shadow-md hover:shadow-lg;
  }
}

/* Custom utilities */
@layer utilities {
}

/* Keyframe Animations */
@keyframes headerColorShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* CodeMirror customization - keep as regular CSS since it's external */
.CodeMirror {
  height: 600px !important;
  min-height: 450px !important;
  max-height: 750px !important;
  font-family: 'Maple Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  width: 100% !important;
  max-width: 100% !important;
}

/* Dynamic height for JSONPath filter input */
#jsonFilterInput + .CodeMirror {
  height: 120px !important;
  min-height: 120px !important;
  max-height: 120px !important;
  transition: height 0.3s ease-in-out, min-height 0.3s ease-in-out, max-height 0.3s ease-in-out;
}

#jsonFilterInput + .CodeMirror.cm-input-focused {
  height: 240px !important;
  min-height: 240px !important;
  max-height: 240px !important;
}

.CodeMirror-lines {
  padding: 4px 0 !important;
}

.CodeMirror pre {
  word-wrap: break-word !important;
  white-space: pre-wrap !important;
  word-break: break-all !important;
  overflow-wrap: break-word !important;
}

.CodeMirror-line {
  word-wrap: break-word !important;
  white-space: pre-wrap !important;
  word-break: break-all !important;
  overflow-wrap: break-word !important;
}

.CodeMirror-gutters {
  background: #2d2d2d !important;
  border-right: 1px solid #404040 !important;
}

.CodeMirror-linenumber {
  color: #858585 !important;
  padding: 0 8px !important;
}

.CodeMirror-scroll {
  overflow: auto !important;
}

/* Enhanced bracket matching styles */
.CodeMirror-matchingbracket {
  background-color: rgba(59, 130, 246, 0.2) !important;
  color: #1d4ed8 !important;
  font-weight: bold !important;
  border: 1px solid #3b82f6 !important;
  border-radius: 2px !important;
  box-shadow: 0 0 4px rgba(59, 130, 246, 0.3) !important;
}

.CodeMirror-nonmatchingbracket {
  background-color: rgba(239, 68, 68, 0.2) !important;
  color: #dc2626 !important;
  font-weight: bold !important;
  border: 1px solid #ef4444 !important;
  border-radius: 2px !important;
  box-shadow: 0 0 4px rgba(239, 68, 68, 0.3) !important;
}

/* Bracket matching cursor styles */
.CodeMirror-focused .CodeMirror-matchingbracket {
  background-color: rgba(59, 130, 246, 0.3) !important;
  box-shadow: 0 0 6px rgba(59, 130, 246, 0.4) !important;
}

.CodeMirror-focused .CodeMirror-nonmatchingbracket {
  background-color: rgba(239, 68, 68, 0.3) !important;
  box-shadow: 0 0 6px rgba(239, 68, 68, 0.4) !important;
}

/* Textarea fallback styling */
textarea {
  width: 100% !important;
  max-width: 100% !important;
  word-wrap: break-word !important;
  white-space: pre-wrap !important;
  word-break: break-all !important;
  overflow-wrap: break-word !important;
  resize: none !important;
  font-family: 'Maple Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  border: none !important;
  outline: none !important;
  background: transparent !important;
  color: inherit !important;
  padding: 8px !important;
}

/* CodeMirror will handle hiding the original textareas automatically */

/* Ensure CodeMirror container takes full space */
.CodeMirror-wrap {
  border: none !important;
}

/* Force CodeMirror to be the only visible editor */
.CodeMirror {
  position: relative !important;
  z-index: 10 !important;
  display: block !important;
  visibility: visible !important;
}

#jsonInput, #output {
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Responsive Design */
@media (max-width: 800px) {
  .jsonpath-layout.drawer-open {
    margin-right: 0; /* No margin on mobile */
  }
  
  .help-panel {
    @apply w-full;
    top: 120px; /* Adjust for smaller header on mobile */
  }
  
  .drawer-trigger {
    @apply right-2 px-2 py-1.5 text-xs;
  }
  
  .drawer-trigger i {
    @apply text-base;
  }
  
  .drawer-trigger span {
    @apply text-xs;
  }
  
  .header {
    @apply p-6 mb-6;
  }
  
  .header h1 {
    @apply text-4xl;
  }
  
  .header p {
    @apply text-base;
  }
  
  .header-content {
    @apply flex-col gap-4 items-start;
  }
  
  .header-nav {
    @apply flex-wrap gap-2;
  }
  
  .nav-link {
    @apply px-4 py-2 text-xs;
  }
}

@media (max-width: 768px) {
  .button-group {
    @apply flex-col;
  }
  
  .result-info {
    @apply flex-col gap-2.5;
  }
  
  .help-content {
    @apply p-4;
  }
  
  .header {
    @apply p-4 mb-4;
  }
  
  .header h1 {
    @apply text-3xl;
  }
  
  .header p {
    @apply text-sm;
  }
  
  .logo {
    @apply w-10 h-10;
  }
  
  .header-text {
    @apply gap-3;
  }
  
  .header-title-group {
    @apply gap-2;
  }

  /* Button group responsive design */
  .controls-section {
    @apply gap-4 p-4;
  }
  
  .control-group-section {
    @apply min-w-[180px] p-3;
  }
  
  .control-group-header {
    @apply text-xs;
  }
  
  .control-group {
    @apply gap-1.5;
  }
  
  .btn-small {
    @apply px-2 py-1.5 text-xs min-w-[60px];
  }
}

@media (max-width: 480px) {
  .header {
    @apply p-3 mb-3 rounded-xl;
  }
  
  .header h1 {
    @apply text-2xl;
  }
  
  .header p {
    @apply text-xs;
  }
  
  .logo {
    @apply w-8 h-8;
  }
  
  .nav-link {
    @apply px-3 py-1.5 text-xs gap-1;
  }
  
  .nav-link i {
    @apply text-sm;
  }
}
