(()=>{"use strict";var t,e={148:(t,e,s)=>{s(792),s(496),s(576),s(948),s(274),s(795),s(802),s(257);var n=s(917),i=s(237);s(923);class r{static initializeEditor(t,e={}){const s=document.getElementById(t);if(!s)return console.error(`Textarea with id "${t}" not found`),null;if(s.CodeMirror){console.warn(`CodeMirror already initialized on textarea "${t}", returning existing instance`);const e=s.CodeMirror;return this.instances.set(t,e),e}const n=this.instances.get(t);if(n)return console.warn(`CodeMirror instance already exists for "${t}", returning existing instance`),n;try{const n={mode:"application/json",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,readOnly:!1,indentUnit:2,tabSize:2,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,extraKeys:{"Ctrl-Q":t=>t.foldCode(t.getCursor()),"Cmd-Q":t=>t.foldCode(t.getCursor())},...e},r=i.fromTextArea(s,n);return this.instances.set(t,r),console.log(`CodeMirror successfully initialized on textarea "${t}"`),r}catch(e){return console.error(`Failed to initialize CodeMirror on textarea "${t}":`,e),null}}static getInstance(t){return this.instances.get(t)||null}static cleanup(t){const e=this.instances.get(t);if(e)try{e.toTextArea(),this.instances.delete(t),console.log(`CodeMirror instance for "${t}" cleaned up`)}catch(e){console.error(`Error cleaning up CodeMirror instance for "${t}":`,e)}}static cleanupAll(){for(const[t]of this.instances)this.cleanup(t)}static hasInstance(t){const e=document.getElementById(t);return!(!e||!e.CodeMirror)||this.instances.has(t)}}r.instances=new Map;class o{constructor(){this.currentOutputType="json",this.initializeElements(),this.initializeEditors(),this.attachEventListeners()}initializeElements(){this.elements={clearBtn:this.getElementById("clearBtn"),loadSampleBtn:this.getElementById("loadSampleBtn"),formatBtn:this.getElementById("formatBtn"),minifyBtn:this.getElementById("minifyBtn"),validateBtn:this.getElementById("validateBtn"),toYamlBtn:this.getElementById("toYamlBtn"),toXmlBtn:this.getElementById("toXmlBtn"),fixJsonBtn:this.getElementById("fixJsonBtn"),stringifyBtn:this.getElementById("stringifyBtn"),parseBtn:this.getElementById("parseBtn"),copyToInputBtn:this.getElementById("copyToInputBtn"),copyBtn:this.getElementById("copyBtn"),downloadBtn:this.getElementById("downloadBtn"),inputStatus:this.getElementById("inputStatus"),outputStatus:this.getElementById("outputStatus"),resizeBar:this.getElementById("resizeBar"),inputPanel:this.getElementBySelector(".input-panel"),outputPanel:this.getElementBySelector(".output-panel"),editorSection:this.getElementBySelector(".editor-section")}}getElementById(t){const e=document.getElementById(t);if(!e)throw new Error(`Element with id "${t}" not found`);return e}getElementBySelector(t){const e=document.querySelector(t);if(!e)throw new Error(`Element with selector "${t}" not found`);return e}initializeEditors(){const t=r.initializeEditor("jsonInput",{mode:"application/json",readOnly:!1});if(!t)throw new Error("Failed to initialize input editor");this.inputEditor=t,this.inputEditor.setOption("readOnly",!1),this.inputEditor.on("change",()=>{this.debounce(()=>this.validateInput(),500)()});const e=r.initializeEditor("output",{mode:"application/json",readOnly:!0});if(!e)throw new Error("Failed to initialize output editor");this.outputEditor=e}attachEventListeners(){this.elements.clearBtn.addEventListener("click",()=>this.clearInput()),this.elements.loadSampleBtn.addEventListener("click",()=>this.loadSample()),this.elements.formatBtn.addEventListener("click",()=>this.formatJSON()),this.elements.minifyBtn.addEventListener("click",()=>this.minifyJSON()),this.elements.validateBtn.addEventListener("click",()=>this.validateJSON()),this.elements.toYamlBtn.addEventListener("click",()=>this.convertToYAML()),this.elements.toXmlBtn.addEventListener("click",()=>this.convertToXML()),this.elements.fixJsonBtn.addEventListener("click",()=>this.fixJSON()),this.elements.stringifyBtn.addEventListener("click",()=>this.stringifyJSON()),this.elements.parseBtn.addEventListener("click",()=>this.parseJSONString()),this.elements.copyToInputBtn.addEventListener("click",()=>this.copyToInput()),this.elements.copyBtn.addEventListener("click",()=>this.copyOutput()),this.elements.downloadBtn.addEventListener("click",()=>this.downloadOutput())}debounce(t,e){let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),t(...n)},e)}}clearInput(){this.inputEditor.setValue(""),this.clearStatus()}loadSample(){const t=JSON.stringify({name:"John Doe",age:30,city:"New York",hobbies:["reading","swimming","coding"],address:{street:"123 Main St",zipCode:"10001"},isActive:!0,balance:1250.5,spouse:null},null,2);this.inputEditor.setValue(t),this.validateInput()}validateInput(){const t=this.inputEditor.getValue().trim();if(t)try{JSON.parse(t),this.showStatus(this.elements.inputStatus,"Valid JSON","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.inputStatus,`Invalid JSON: ${e}`,"error")}else this.clearStatus()}formatJSON(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=JSON.stringify(e,null,2);this.displayOutput(s,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON formatted successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error formatting JSON: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}minifyJSON(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=JSON.stringify(e);this.displayOutput(s,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON minified successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error minifying JSON: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}validateJSON(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=this.analyzeJSON(e);this.displayOutput(`✅ Valid JSON!\n\n${s}`,"text/plain"),this.currentOutputType="text",this.showStatus(this.elements.outputStatus,"JSON is valid","success")}catch(e){const s=this.getDetailedError(e,t);this.displayOutput(`❌ Invalid JSON!\n\n${s}`,"text/plain"),this.currentOutputType="text",this.showStatus(this.elements.outputStatus,"JSON validation failed","error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}analyzeJSON(t){const e=[],s=Array.isArray(t)?"Array":typeof t;if(e.push(`Type: ${s}`),Array.isArray(t))e.push(`Length: ${t.length} items`);else if("object"==typeof t&&null!==t){const s=Object.keys(t);e.push(`Properties: ${s.length}`),e.push(`Keys: ${s.join(", ")}`)}return e.push(`Size: ${JSON.stringify(t).length} characters`),e.join("\n")}getDetailedError(t,e){const s=t instanceof Error?t.message:"Unknown error",n=e.split("\n"),i=[`Error: ${s}`],r=s.match(/line (\d+)/i);if(r){const t=parseInt(r[1]);i.push(`Line ${t}: ${n[t-1]||"N/A"}`)}return s.includes("Unexpected token")&&(i.push("\nCommon fixes:"),i.push("• Check for missing commas between properties"),i.push("• Ensure all strings are quoted with double quotes"),i.push("• Remove trailing commas"),i.push("• Check for unescaped quotes in strings")),i.join("\n")}convertToYAML(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=this.jsonToYAML(e);this.displayOutput(s,"text/x-yaml"),this.currentOutputType="yaml",this.showStatus(this.elements.outputStatus,"Converted to YAML successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error converting to YAML: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}jsonToYAML(t,e=0){const s="  ".repeat(e);if(null===t)return"null";if("boolean"==typeof t)return t.toString();if("number"==typeof t)return t.toString();if("string"==typeof t)return t.includes("\n")||t.includes(":")||t.includes("#")||t.includes("[")||t.includes("]")?`"${t.replace(/"/g,'\\"')}"`:t;if(Array.isArray(t))return 0===t.length?"[]":t.map(t=>`${s}- ${this.jsonToYAML(t,e+1).replace(/^\s+/,"")}`).join("\n");if("object"==typeof t){const n=Object.keys(t);return 0===n.length?"{}":n.map(n=>{const i=t[n],r=this.jsonToYAML(i,e+1);return"object"!=typeof i||null===i||Array.isArray(i)?Array.isArray(i)&&i.length>0?`${s}${n}:\n${r}`:`${s}${n}: ${r}`:`${s}${n}:\n${r}`}).join("\n")}return t.toString()}convertToXML(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=`<?xml version="1.0" encoding="UTF-8"?>\n<root>\n${this.jsonToXML(e)}\n</root>`;this.displayOutput(s,"application/xml"),this.currentOutputType="xml",this.showStatus(this.elements.outputStatus,"Converted to XML successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error converting to XML: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}jsonToXML(t,e=1){const s="  ".repeat(e);return null===t?`${s}<null/>`:"boolean"==typeof t?`${s}<boolean>${t}</boolean>`:"number"==typeof t?`${s}<number>${t}</number>`:"string"==typeof t?`${s}<string>${this.escapeXML(t)}</string>`:Array.isArray(t)?t.map((t,n)=>`${s}<item index="${n}">\n${this.jsonToXML(t,e+1)}\n${s}</item>`).join("\n"):"object"==typeof t?Object.keys(t).map(n=>{const i=t[n],r=n.replace(/[^a-zA-Z0-9_-]/g,"_");return"object"==typeof i&&null!==i?`${s}<${r}>\n${this.jsonToXML(i,e+1)}\n${s}</${r}>`:`${s}<${r}>${this.escapeXML(String(i))}</${r}>`}).join("\n"):`${s}<value>${this.escapeXML(String(t))}</value>`}escapeXML(t){return t.replace(/[<>&'"]/g,t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}})}fixJSON(){const t=this.inputEditor.getValue().trim();if(t)try{return JSON.parse(t),void this.showStatus(this.elements.outputStatus,"JSON is already valid!","info")}catch(e){try{const e=this.customJSONRepair(t),s=JSON.parse(e),n=JSON.stringify(s,null,2);return this.displayOutput(n,"application/json"),this.currentOutputType="json",void this.showStatus(this.elements.outputStatus,"JSON fixed successfully! Please verify the result.","success")}catch(e){try{const e=(0,n.m)(t),s=JSON.parse(e),i=JSON.stringify(s,null,2);this.displayOutput(i,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON fixed successfully! Please verify the result.","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Could not auto-fix JSON: ${e}`,"error")}}}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}stringifyJSON(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t),s=JSON.stringify(e),n=JSON.stringify(s);this.displayOutput(n,"text/plain"),this.currentOutputType="text",this.showStatus(this.elements.outputStatus,"JSON converted to string successfully","success")}catch(t){const e=t instanceof Error?t.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error stringifying JSON: ${e}`,"error")}else this.showStatus(this.elements.outputStatus,"Please enter JSON data first","error")}parseJSONString(){const t=this.inputEditor.getValue().trim();if(t)try{const e=JSON.parse(t);if("string"!=typeof e)return void this.showStatus(this.elements.outputStatus,"Input must be a JSON string (quoted string containing JSON)","error");const s=JSON.parse(e),n=JSON.stringify(s,null,2);this.displayOutput(n,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"JSON string parsed successfully","success")}catch(e){try{const e=(0,n.m)(t),s=JSON.parse(e);if("string"!=typeof s)return void this.showStatus(this.elements.outputStatus,"Input must be a JSON string (quoted string containing JSON)","error");const i=JSON.parse(s),r=JSON.stringify(i,null,2);this.displayOutput(r,"application/json"),this.currentOutputType="json",this.showStatus(this.elements.outputStatus,"Input repaired and JSON string parsed successfully! Please verify the result.","success")}catch(t){const s=e instanceof Error?e.message:"Unknown error";this.showStatus(this.elements.outputStatus,`Error parsing JSON string: ${s}`,"error")}}else this.showStatus(this.elements.outputStatus,"Please enter a JSON string first","error")}customJSONRepair(t){let e=t;return e=e.replace(/("[\w\s]+"):\s*"([^"]*?)\s+"([^"]+"):/g,'$1: "$2", "$3":'),e=e.replace(/("[\w\s]+"):\s*"([^"]*?)\s+("[\w\s]+"):/g,'$1: "$2", $3:'),e=e.replace(/'/g,'"'),e=e.replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":'),e=e.replace(/,(\s*[}\]])/g,"$1"),e=e.replace(/("\s*)\s+("[\w\s]+"):/g,"$1, $2:"),e}copyToInput(){const t=this.outputEditor.getValue();t?(this.inputEditor.setValue(t),this.validateInput(),this.showStatus(this.elements.outputStatus,"Output copied to input!","success")):this.showStatus(this.elements.outputStatus,"No output to copy","error")}async copyOutput(){const t=this.outputEditor.getValue();if(t)try{await navigator.clipboard.writeText(t),this.showStatus(this.elements.outputStatus,"Output copied to clipboard!","success")}catch(e){const s=document.createElement("textarea");s.value=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),this.showStatus(this.elements.outputStatus,"Output copied to clipboard!","success")}else this.showStatus(this.elements.outputStatus,"No output to copy","error")}downloadOutput(){const t=this.outputEditor.getValue();if(!t)return void this.showStatus(this.elements.outputStatus,"No output to download","error");const e=`output.${{json:"json",yaml:"yaml",xml:"xml",text:"txt"}[this.currentOutputType]||"txt"}`,s=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),this.showStatus(this.elements.outputStatus,`File downloaded as ${e}`,"success")}showStatus(t,e,s){t.textContent=e,t.className=`status-inline ${s}`}clearStatus(){this.elements.inputStatus.textContent="",this.elements.inputStatus.className="status-inline",this.elements.outputStatus.textContent="",this.elements.outputStatus.className="status-inline"}displayOutput(t,e){this.outputEditor.setValue(t),this.outputEditor.setOption("mode",e)}}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("jsonInput")&&(console.log("Initializing JSONUtils for main page"),new o)})}},s={};function n(t){var i=s[t];if(void 0!==i)return i.exports;var r=s[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,s,i,r)=>{if(!s){var o=1/0;for(c=0;c<t.length;c++){for(var[s,i,r]=t[c],a=!0,u=0;u<s.length;u++)(!1&r||o>=r)&&Object.keys(n.O).every(t=>n.O[t](s[u]))?s.splice(u--,1):(a=!1,r<o&&(o=r));if(a){t.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,i,r]},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.j=792,(()=>{var t={792:0,715:0};n.O.j=e=>0===t[e];var e=(e,s)=>{var i,r,[o,a,u]=s,l=0;if(o.some(e=>0!==t[e])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)var c=u(n)}for(e&&e(s);l<o.length;l++)r=o[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},s=self.webpackChunkjson_utils=self.webpackChunkjson_utils||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var i=n.O(void 0,[96,715],()=>n(148));i=n.O(i)})();